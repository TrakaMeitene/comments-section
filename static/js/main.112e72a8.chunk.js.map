{"version":3,"sources":["components/modal.js","images/icon-plus.svg","images/icon-minus.svg","components/commentCase.js","components/comments.js","App.js","reportWebVitals.js","index.js"],"names":["axios","require","default","Modal","deletemodal","commentid","getalldata","className","onClick","delete","data","id","then","response","console","log","catch","error","CommentCase","comment","getAllData","currentuser","comments","deletefromdb","useState","replymode","setReply","replyvalue","setReplyvalue","editmode","setEditmode","editedvalue","setEditedvalue","replies","useEffect","undefined","i","length","replyTo","push","date","Date","commentDate","createdAt","years","getFullYear","months","getMonth","days","Math","abs","getDate","hours","getHours","minutes","getMinutes","seconds","getSeconds","created","floor","image","user","png","current","username","edit","alt","src","process","onSubmit","e","preventDefault","arrayofid","sortedid","map","sort","a","b","newcomment","content","score","_id","type","post","alert","rows","cols","wrap","defaultValue","onChange","target","value","string","namereply","split","substring","indexOf","reprep","x","plus","minus","getAttribute","put","params","commentreply","includes","Comments","setUser","setComments","setNewcomment","deletemode","setDelete","setCommentid","getUser","get","name","useCallback","state","placeholder","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","document","getElementById","render","StrictMode"],"mappings":"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","file":"static/js/main.112e72a8.chunk.js","sourcesContent":["import React from \"react\";\nconst axios = require('axios').default;\n\nexport default function Modal({deletemodal, commentid, getalldata}) {\n\n    const cancel =()=>{\ndeletemodal(false)\n    }\n\n    const deletfrom = ()=>{\n        // eslint-disable-next-line \n        axios.delete(\"https://nodeprojectreact.herokuapp.com/delete/${commentid}\", {\n              data: {\n                  id: commentid}\n              })\n        .then(response => console.log(response.data))\n        .catch((error) => {\n            console.error('Error:', error);\n        })\n        .then(function () {\n            deletemodal(false)\n            getalldata()\n        })\n    }\n    return (\n        <div className=\"mask\">\n            <div className=\"modal\">\n                <h3>Delete comment</h3>\n                <p>Are you sure you want to delete this\n                    comment? This will remove the comment\n                    and can't be undone</p>\n\n                    <span><button className=\"cancel\" onClick={cancel}>NO,CANCEL</button><button className=\"accept\" onClick={deletfrom}>YES, DELETE</button></span>\n            </div>\n        </div>\n    )\n}","export default __webpack_public_path__ + \"static/media/icon-plus.0037a825.svg\";","export default __webpack_public_path__ + \"static/media/icon-minus.4aa6933c.svg\";","import React, { useEffect, useState } from \"react\";\nimport plus from \"../images/icon-plus.svg\"\nimport minus from \"../images/icon-minus.svg\"\nconst axios = require('axios').default;\n\nexport default function CommentCase({ comment, id, getAllData, currentuser, comments, deletemodal, deletefromdb }) {\n\n    const [replymode, setReply] = useState(false);\n    const [replyvalue, setReplyvalue] = useState();\n    const [editmode, setEditmode] = useState(false)\n    const [editedvalue, setEditedvalue] = useState();\n\n    let replies = []\n\n    useEffect(() => {\n        if (comment === undefined || comment === null) {\n            return \"\"\n        };\n\n    }, [comment])\n\n    for(let i = 0; i < comments.length; i++){\n        if(comments[i].replyTo !== \"0\"){\n            replies.push(comments[i])\n        }\n    }\n\n    var date = new Date();\n\n    var commentDate = new Date(comment.createdAt);\n\n    const years = date.getFullYear() - commentDate.getFullYear();\n    const months = date.getMonth() - commentDate.getMonth();\n    const days = Math.abs((new Date(comment.createdAt).getDate()) - (new Date().getDate()))\n    let hours = Math.abs((new Date(comment.createdAt).getHours()) - (new Date().getHours()))\n    let minutes = date.getMinutes() - commentDate.getMinutes();\n    const seconds = date.getSeconds() - commentDate.getSeconds()\n\n    let created = \"\";\n    let week = 7\n\n    if (years > 0 && years < 2) {\n        created += years + \"year ago\"\n    } else if (years >= 2) {\n        created = years + \" years ago\"\n    } else if (months > 0 && months > 1) {\n        created = months + \" months ago\"\n    } else if (months === 1) {\n        created = months + \" month ago\"\n    } else if (days > 0 && days > 1 && Math.floor(days) < 7) {\n        created = Math.floor(days) + \" days ago\"\n    } else if (Math.floor(days) === 1) {\n        created = days + \" day ago\"\n    } else if (Math.floor(days / week) === 1) {\n        created = \"1 week ago\"\n    } else if (Math.floor(days / week) > 1) {\n        created = Math.floor(days / week) + \" weeks ago\"\n    } else if (minutes > 0 && hours === 1) {\n        created = \"1 hour ago\"\n    } else if (hours > 1 && hours < 12) {\n        created = hours + \" hours ago\"\n    } else if (hours === 1 && minutes < 0) {\n        minutes = (date.getMinutes() + 60) - commentDate.getMinutes()\n        created = minutes + \" minutes ago\"\n    } else if (minutes > 0 && minutes > 1) {\n        created = minutes + \" minutes ago\"\n    } else if (minutes === 1) {\n        created = minutes + \" minute ago\"\n    } else if (seconds > 0 && seconds > 1) {\n        created = seconds + \" seconds ago\"\n    } else if (seconds === 1) {\n        created = seconds + \" second ago\"\n    } else if (seconds === 0) {\n        created = \"just now\"\n    }\n\n    const vote = (e) => {\n        const type = e.target.getAttribute('value')\nconsole.log(comment)\n        axios.put('https://nodeprojectreact.herokuapp.com/score', {\n            id: id,\n            comment: comment,\n            type: type\n        })\n            .catch(function (error) {\n                alert(error);\n            })\n            .then(function () {\n                getAllData();\n            });\n    }\n\n    const replycomment = (e) => {\n        setReply(true)\n    }\n\n    const onreplychange = (e) => {\n        setReplyvalue(e.target.value)\n        e.preventDefault()\n    }\n\n    //add new reply\n    const replytocomment = (e) => {\n        e.preventDefault();\n        const arrayofid = []\n        // eslint-disable-next-line\n        const lastitem = comments.map(comment => { arrayofid.push(comment.id) })\n        const sortedid = arrayofid.sort((a, b) => a - b)\n\n        const newcomment = {\n            id: sortedid[sortedid.length - 1] + 1,\n            content: replyvalue,\n            createdAt: new Date(),\n            score: 0,\n            user: currentuser[0],\n            replyTo: comment._id,\n            type: \"reply\"\n        }\n\n        axios.post(\"https://nodeprojectreact.herokuapp.com/addcomment\", { newcomment })\n            .catch((error) => {\n                alert('Error:', error);\n            })\n            .then(function () {\n                setReply(false)\n                setReplyvalue(\"\")\n                getAllData()\n            })\n    }\n\n    const editcomment = () => {\n        setEditmode(true)\n    }\n\n    const changecomment = (e) => {\n        e.preventDefault();\n        setEditedvalue(e.target.value)\n    }\n//edit comment\n    const putcomment = (e) => {\n        e.preventDefault();\n\n        const params = {\n            _id: id,\n            id: comment.id,\n            content: editedvalue,\n            createdAt: comment.createdAt,\n            score: comment.score,\n            user: comment.user,\n            replyTo: comment.replyTo\n        }\n\n        axios.put('https://nodeprojectreact.herokuapp.com/edit', { params })\n            .catch(function (error) {\n                alert(error);\n            })\n            .then(function () {\n                getAllData();\n                setEditmode(false)\n            });\n    }\n\n\n    const todelete = () => {\n        deletemodal(true);\n        deletefromdb(id);\n    }\n\n    const image = comment.user.image.png;\n    const current = currentuser[0].username\n   // const currentuserimage = currentuser[0].image.png\n\n    var edit = (<div className=\"comment-window\">\n        <div className=\"avatar\">\n            <img alt=\"avatar\" src={`${process.env.PUBLIC_URL}/${currentuser[0].image.png}`} />\n        </div>\n        <form onSubmit={replytocomment}>\n            <textarea rows=\"3\" cols=\"12\" wrap=\"hard\" defaultValue={\"@\" + comment.user.username + \" \"} onChange={onreplychange} />\n            <input type=\"submit\" value=\"REPLY\" />\n        </form>\n\n    </div>\n    )\n    const string = comment.content\n    const namereply = string.split(\" \")\n\n    const content = ((string.split('')[0] === \"@\") ? <p><b>{namereply[0] + \" \"}</b>{string.substring(string.indexOf(' ') + 1)}</p> : <p>{comment.content}</p>) // bold the assignment of comment author\n    \n    let reprep = [] //replies of relply comments\n    for (let i = 0; i < replies.length; i++) {\n        for(let x= i+1; x<comments.length; x++){\n            if(replies[i]._id === comments[x].replyTo){\n            reprep.push(comments[x])\n            }\n        }\n    }\n\n    return (\n        <>\n            <div className=\"comment-window\">\n                <div className=\"vote-count\">\n                  <img alt='plus' src={plus}  value={\"plus\"} />\n                    <p>{comment.score}</p>\n                    <img alt=\"minus\" src={minus} onClick={vote} value={\"minus\"} />\n                </div>\n                <div className=\"comment-column\">\n                    <div className=\"comment-header\">\n                        <img alt=\"avatar\" src={image} />\n                        <p>{comment.user.username}</p><span className={comment.user.username === current ? \"you\" : \"nodisplay\"}>you</span>\n                        <p className=\"cooment-date\">{created}</p>\n                        {comment.user.username === current ? <div className=\"delete\"><p onClick={todelete}>Delete</p><p onClick={editcomment} >Edit</p></div> : <p className=\"reply\" onClick={replycomment}> Reply</p>}\n                    </div>\n                    <div className=\"content\">\n                        {editmode ? <form className=\"update\" onSubmit={putcomment}><textarea className=\"editable\" rows=\"2\" cols=\"10\" wrap=\"hard\" onChange={changecomment} defaultValue={comment.content} /><input type=\"submit\" value=\"UPDATE\" /></form> : content}\n                    </div>\n                </div>\n\n            </div>\n            {replymode ? edit : \"\"}\n\n            {replies.map((commentreply => (comment._id === commentreply.replyTo)?\n                (<div key={commentreply.id} className={reprep.includes(commentreply) ? \"jauna\" : \"repliedTo\"}><CommentCase comment={commentreply} key={commentreply.id} id={commentreply._id} getAllData={getAllData} currentuser={currentuser} comments={comments} deletemodal={deletemodal} deletefromdb={deletefromdb}/></div>)\n                : \"\"))} \n        </>\n    )\n}","import \"./comments.css\"\nimport Modal from \"../components/modal.js\"\n\nimport { useEffect, useState, useCallback } from \"react\"\nimport CommentCase from \"./commentCase\"\nconst axios = require('axios').default;\n\nexport default function Comments() {\n\n    const [user, setUser] = useState(\"\");\n    const [comments, setComments] = useState();\n    const [newcomment, setNewcomment] = useState();\n    const [deletemode, setDelete] = useState(false);\n    const [commentid, setCommentid] = useState();\n\n    useEffect(() => {\n        getAllData();\n        getUser();\n    }, [])\n\n    //get all comments from db\n    const getAllData = () => {\n        axios.get('https://nodeprojectreact.herokuapp.com')\n            .then(response => setComments(response.data))\n            .catch((error) => {\n                console.error('Error:', error);\n            });\n\n    }\n\n    //get current user from db\n    const getUser = () => {\n\n        axios.get('https://nodeprojectreact.herokuapp.com/user', { params: { name: \"juliusomo\" } })\n            .then(response => setUser(response.data))\n            .catch((error) => {\n                console.error('Error:', error);\n            })\n    }\n\n    //add new comment to db\n    const postcomment = (e) => {\n        const content = e.target[0].value;\n        e.preventDefault();\n        const arrayofid = []\n        // eslint-disable-next-line\n       const lastitem = comments.map(comment => { arrayofid.push(comment.id)})\nconst sortedid = arrayofid.sort((a, b) => a - b)\n\n        const newcomment = {\n            id: sortedid[sortedid.length -1] + 1,\n            content: content,\n            createdAt: new Date(),\n            score: 0,\n            user: user[0],\n            replyTo: \"0\"\n        }\n\n        axios.post(\"https://nodeprojectreact.herokuapp.com/addcomment\", { newcomment })\n            .catch((error) => {\n               alert('Error:', error);\n            })\n            .then(function () {\n                setNewcomment(\"\")\n                getAllData()\n            })\n    }\n\n    const textchange = (e) => {\n        setNewcomment(e.target.value);\n        e.preventDefault();\n    }\n\n    const deletemodal = useCallback((state) => {\n        setDelete(state)\n    }, []);\n\n\n    const deletefromdb = useCallback((id) => {\n        setCommentid(id)\n    }, []);\n\n    if (comments === undefined || comments === null || user[0] === undefined || user[0] === null) {\n        return \"\"\n    }\n\n    return (\n        <>\n            {comments.map((comment => ((comment.replyTo === \"0\") ?\n                (<div key={comment.id} ><CommentCase comment={comment} key={comment.id} id={comment._id} getAllData={getAllData} currentuser={user} comments={comments} deletemodal={deletemodal} deletefromdb={deletefromdb} /></div>)\n                : \"\")))}\n\n            {/* input comment field */}\n            <div className=\"comment-window\">\n                <div className=\"avatar\">\n                    <img alt=\"avatar\" src={`${process.env.PUBLIC_URL}/${user[0].image.png}`} />\n                </div>\n                <form onSubmit={postcomment}>\n                    <textarea rows=\"3\" cols=\"10\" wrap=\"hard\" placeholder=\"Add a comment...\" onChange={textchange} value={newcomment} />\n                    <input type=\"submit\" value=\"SEND\" />\n                </form>\n\n            </div>\n\n            {deletemode ? <Modal deletemodal={deletemodal} commentid={commentid} getalldata={getAllData}/> : \"\"}\n        </>\n    )\n}","import React from 'react'\r\nimport Comment from './components/comments'\r\nimport './custom.css'\r\n\r\nexport default function App() {\r\n\r\n  return (\r\n    <Comment />\r\n  )\r\n}","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}