{"version":3,"sources":["components/modal.js","images/icon-plus.svg","images/icon-minus.svg","components/commentCase.js","components/comments.js","App.js","reportWebVitals.js","index.js"],"names":["axios","require","default","Modal","deletemodal","commentid","getalldata","className","onClick","delete","data","id","then","response","console","log","catch","error","CommentCase","comment","getAllData","currentuser","comments","deletefromdb","useState","replymode","setReply","replyvalue","setReplyvalue","editmode","setEditmode","editedvalue","setEditedvalue","replies","useEffect","undefined","i","length","replyTo","push","date","Date","commentDate","createdAt","years","getFullYear","months","getMonth","days","Math","abs","getDate","hours","getHours","minutes","getMinutes","seconds","getSeconds","created","floor","vote","e","type","target","getAttribute","put","alert","image","user","png","current","username","currentuserimage","edit","alt","src","onSubmit","preventDefault","arrayofid","sortedid","map","sort","a","b","newcomment","content","score","_id","post","rows","cols","wrap","defaultValue","onChange","value","string","namereply","split","substring","indexOf","reprep","x","plus","minus","params","commentreply","includes","Comments","setUser","setComments","setNewcomment","deletemode","setDelete","setCommentid","img","setImg","getUser","get","name","useCallback","state","placeholder","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","document","getElementById","render","StrictMode"],"mappings":"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","file":"static/js/main.de0f2960.chunk.js","sourcesContent":["import React from \"react\";\nconst axios = require('axios').default;\n\nexport default function Modal({deletemodal, commentid, getalldata}) {\n\n    const cancel =()=>{\ndeletemodal(false)\n    }\n\n    const deletfrom = ()=>{\n        // eslint-disable-next-line \n        axios.delete(\"https://nodeprojectreact.herokuapp.com/delete/${commentid}\", {\n              data: {\n                  id: commentid}\n              })\n        .then(response => console.log(response.data))\n        .catch((error) => {\n            console.error('Error:', error);\n        })\n        .then(function () {\n            deletemodal(false)\n            getalldata()\n        })\n    }\n    return (\n        <div className=\"mask\">\n            <div className=\"modal\">\n                <h3>Delete comment</h3>\n                <p>Are you sure you want to delete this\n                    comment? This will remove the comment\n                    and can't be undone</p>\n\n                    <span><button className=\"cancel\" onClick={cancel}>NO,CANCEL</button><button className=\"accept\" onClick={deletfrom}>YES, DELETE</button></span>\n            </div>\n        </div>\n    )\n}","export default __webpack_public_path__ + \"static/media/icon-plus.0037a825.svg\";","export default __webpack_public_path__ + \"static/media/icon-minus.4aa6933c.svg\";","import React, { useEffect, useState } from \"react\";\nimport plus from \"../images/icon-plus.svg\"\nimport minus from \"../images/icon-minus.svg\"\nconst axios = require('axios').default;\n\nexport default function CommentCase({ comment, id, getAllData, currentuser, comments, deletemodal, deletefromdb }) {\n\n    const [replymode, setReply] = useState(false);\n    const [replyvalue, setReplyvalue] = useState();\n    const [editmode, setEditmode] = useState(false)\n    const [editedvalue, setEditedvalue] = useState();\n\n    let replies = []\n\n    useEffect(() => {\n        if (comment === undefined || comment === null) {\n            return \"\"\n        };\n\n    }, [comment])\n\n    for(let i = 0; i < comments.length; i++){\n        if(comments[i].replyTo !== \"0\"){\n            replies.push(comments[i])\n        }\n    }\n\n    var date = new Date();\n\n    var commentDate = new Date(comment.createdAt);\n\n    const years = date.getFullYear() - commentDate.getFullYear();\n    const months = date.getMonth() - commentDate.getMonth();\n    const days = Math.abs((new Date(comment.createdAt).getDate()) - (new Date().getDate()))\n    let hours = Math.abs((new Date(comment.createdAt).getHours()) - (new Date().getHours()))\n    let minutes = date.getMinutes() - commentDate.getMinutes();\n    const seconds = date.getSeconds() - commentDate.getSeconds()\n\n    let created = \"\";\n    let week = 7\n\n    if (years > 0 && years < 2) {\n        created += years + \"year ago\"\n    } else if (years >= 2) {\n        created = years + \" years ago\"\n    } else if (months > 0 && months > 1) {\n        created = months + \" months ago\"\n    } else if (months === 1) {\n        created = months + \" month ago\"\n    } else if (days > 0 && days > 1 && Math.floor(days) < 7) {\n        created = Math.floor(days) + \" days ago\"\n    } else if (Math.floor(days) === 1) {\n        created = days + \" day ago\"\n    } else if (Math.floor(days / week) === 1) {\n        created = \"1 week ago\"\n    } else if (Math.floor(days / week) > 1) {\n        created = Math.floor(days / week) + \" weeks ago\"\n    } else if (minutes > 0 && hours === 1) {\n        created = \"1 hour ago\"\n    } else if (hours > 1 && hours < 12) {\n        created = hours + \" hours ago\"\n    } else if (hours === 1 && minutes < 0) {\n        minutes = (date.getMinutes() + 60) - commentDate.getMinutes()\n        created = minutes + \" minutes ago\"\n    } else if (minutes > 0 && minutes > 1) {\n        created = minutes + \" minutes ago\"\n    } else if (minutes === 1) {\n        created = minutes + \" minute ago\"\n    } else if (seconds > 0 && seconds > 1) {\n        created = seconds + \" seconds ago\"\n    } else if (seconds === 1) {\n        created = seconds + \" second ago\"\n    } else if (seconds === 0) {\n        created = \"just now\"\n    }\n\n    const vote = (e) => {\n        const type = e.target.getAttribute('value')\n\n        axios.put('https://nodeprojectreact.herokuapp.com/score', {\n            id: id,\n            comment: comment,\n            type: type\n        })\n            .catch(function (error) {\n                alert(error);\n            })\n            .then(function () {\n                getAllData();\n            });\n    }\n\n    const replycomment = (e) => {\n        setReply(true)\n    }\n\n    const onreplychange = (e) => {\n        setReplyvalue(e.target.value)\n        e.preventDefault()\n    }\n\n    //add new reply\n    const replytocomment = (e) => {\n        e.preventDefault();\n        const arrayofid = []\n        // eslint-disable-next-line\n        const lastitem = comments.map(comment => { arrayofid.push(comment.id) })\n        const sortedid = arrayofid.sort((a, b) => a - b)\n\n        const newcomment = {\n            id: sortedid[sortedid.length - 1] + 1,\n            content: replyvalue,\n            createdAt: new Date(),\n            score: 0,\n            user: currentuser[0],\n            replyTo: comment._id,\n            type: \"reply\"\n        }\n\n        axios.post(\"https://nodeprojectreact.herokuapp.com/addcomment\", { newcomment })\n            .catch((error) => {\n                alert('Error:', error);\n            })\n            .then(function () {\n                setReply(false)\n                setReplyvalue(\"\")\n                getAllData()\n            })\n    }\n\n    const editcomment = () => {\n        setEditmode(true)\n    }\n\n    const changecomment = (e) => {\n        e.preventDefault();\n        setEditedvalue(e.target.value)\n    }\n//edit comment\n    const putcomment = (e) => {\n        e.preventDefault();\n\n        const params = {\n            _id: id,\n            id: comment.id,\n            content: editedvalue,\n            createdAt: comment.createdAt,\n            score: comment.score,\n            user: comment.user,\n            replyTo: comment.replyTo\n        }\n\n        axios.put('https://nodeprojectreact.herokuapp.com/edit', { params })\n            .catch(function (error) {\n                alert(error);\n            })\n            .then(function () {\n                getAllData();\n                setEditmode(false)\n            });\n    }\n\n\n    const todelete = () => {\n        deletemodal(true);\n        deletefromdb(id);\n    }\n\n    const image = comment.user.image.png;\n    const current = currentuser[0].username\n    const currentuserimage = currentuser[0].image.png\n\n    var edit = (<div className=\"comment-window\">\n        <div className=\"avatar\">\n            <img alt=\"avatar\" src={currentuserimage} />\n        </div>\n        <form onSubmit={replytocomment}>\n            <textarea rows=\"3\" cols=\"12\" wrap=\"hard\" defaultValue={\"@\" + comment.user.username + \" \"} onChange={onreplychange} />\n            <input type=\"submit\" value=\"REPLY\" />\n        </form>\n\n    </div>\n    )\n    const string = comment.content\n    const namereply = string.split(\" \")\n\n    const content = ((string.split('')[0] === \"@\") ? <p><b>{namereply[0] + \" \"}</b>{string.substring(string.indexOf(' ') + 1)}</p> : <p>{comment.content}</p>) // bold the assignment of comment author\n    \n    let reprep = [] //replies of relply comments\n    for (let i = 0; i < replies.length; i++) {\n        for(let x= i+1; x<comments.length; x++){\n            if(replies[i]._id === comments[x].replyTo){\n            reprep.push(comments[x])\n            }\n        }\n    }\n\n    return (\n        <>\n            <div className=\"comment-window\">\n                <div className=\"vote-count\">\n                    <img alt='plus' src={plus} onClick={vote} value={\"plus\"} />\n                    <p>{comment.score}</p>\n                    <img alt=\"minus\" src={minus} onClick={vote} value={\"minus\"} />\n                </div>\n                <div className=\"comment-column\">\n                    <div className=\"comment-header\">\n                        <img alt=\"avatar\" src={image} />\n                        <p>{comment.user.username}</p><span className={comment.user.username === current ? \"you\" : \"nodisplay\"}>you</span>\n                        <p className=\"cooment-date\">{created}</p>\n                        {comment.user.username === current ? <div className=\"delete\"><p onClick={todelete}>Delete</p><p onClick={editcomment} >Edit</p></div> : <p className=\"reply\" onClick={replycomment}> Reply</p>}\n                    </div>\n                    <div className=\"content\">\n                        {editmode ? <form className=\"update\" onSubmit={putcomment}><textarea className=\"editable\" rows=\"2\" cols=\"10\" wrap=\"hard\" onChange={changecomment} defaultValue={comment.content} /><input type=\"submit\" value=\"UPDATE\" /></form> : content}\n                    </div>\n                </div>\n\n            </div>\n            {replymode ? edit : \"\"}\n\n            {replies.map((commentreply => (comment._id === commentreply.replyTo)?\n                (<div key={commentreply.id} className={reprep.includes(commentreply) ? \"jauna\" : \"repliedTo\"}><CommentCase comment={commentreply} key={commentreply.id} id={commentreply._id} getAllData={getAllData} currentuser={currentuser} comments={comments} deletemodal={deletemodal} deletefromdb={deletefromdb}/></div>)\n                : \"\"))} \n        </>\n    )\n}","import \"./comments.css\"\nimport Modal from \"../components/modal.js\"\n\nimport { useEffect, useState, useCallback } from \"react\"\nimport CommentCase from \"./commentCase\"\nconst axios = require('axios').default;\n\nexport default function Comments() {\n\n    const [user, setUser] = useState(\"\");\n    const [comments, setComments] = useState();\n    const [newcomment, setNewcomment] = useState();\n    const [deletemode, setDelete] = useState(false);\n    const [commentid, setCommentid] = useState();\n    const [img, setImg] = useState(\"\");\n\n    useEffect(() => {\n        getAllData();\n        getUser();\n    }, [])\n\n    //get all comments from db\n    const getAllData = () => {\n        axios.get('https://nodeprojectreact.herokuapp.com')\n            .then(response => setComments(response.data))\n            .catch((error) => {\n                console.error('Error:', error);\n            });\n\n    }\n\n    //get current user from db\n    const getUser = () => {\n\n        axios.get('https://nodeprojectreact.herokuapp.com/user', { params: { name: \"juliusomo\" } })\n            .then(response => setUser(response.data))\n            .then(setImg(user[0].image.png))\n            .catch((error) => {\n                console.error('Error:', error);\n            })\n    }\n\n    //add new comment to db\n    const postcomment = (e) => {\n        const content = e.target[0].value;\n        e.preventDefault();\n        const arrayofid = []\n        // eslint-disable-next-line\n       const lastitem = comments.map(comment => { arrayofid.push(comment.id)})\nconst sortedid = arrayofid.sort((a, b) => a - b)\n\n        const newcomment = {\n            id: sortedid[sortedid.length -1] + 1,\n            content: content,\n            createdAt: new Date(),\n            score: 0,\n            user: user[0],\n            replyTo: \"0\"\n        }\n\n        axios.post(\"https://nodeprojectreact.herokuapp.com/addcomment\", { newcomment })\n            .catch((error) => {\n               alert('Error:', error);\n            })\n            .then(function () {\n                setNewcomment(\"\")\n                getAllData()\n            })\n    }\n\n    const textchange = (e) => {\n        setNewcomment(e.target.value);\n        e.preventDefault();\n    }\n\n    const deletemodal = useCallback((state) => {\n        setDelete(state)\n    }, []);\n\n\n    const deletefromdb = useCallback((id) => {\n        setCommentid(id)\n    }, []);\n\n    if (comments === undefined || comments === null || user[0] === undefined || user[0] === null) {\n        return \"\"\n    }\n\n\n    return (\n        <>\n            {comments.map((comment => ((comment.replyTo === \"0\") ?\n                (<div key={comment.id} ><CommentCase comment={comment} key={comment.id} id={comment._id} getAllData={getAllData} currentuser={user} comments={comments} deletemodal={deletemodal} deletefromdb={deletefromdb} /></div>)\n                : \"\")))}\n\n            {/* input comment field */}\n            <div className=\"comment-window\">\n                <div className=\"avatar\">\n                    <img alt=\"avatar\" src={img} />\n                </div>\n                <form onSubmit={postcomment}>\n                    <textarea rows=\"3\" cols=\"10\" wrap=\"hard\" placeholder=\"Add a comment...\" onChange={textchange} value={newcomment} />\n                    <input type=\"submit\" value=\"SEND\" />\n                </form>\n\n            </div>\n\n            {deletemode ? <Modal deletemodal={deletemodal} commentid={commentid} getalldata={getAllData}/> : \"\"}\n        </>\n    )\n}","import React from 'react'\r\nimport Comment from './components/comments'\r\nimport './custom.css'\r\n\r\nexport default function App() {\r\n\r\n  return (\r\n    <Comment />\r\n  )\r\n}","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}